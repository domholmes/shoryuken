@model Squirrel.Models.Reminder
<!-- View is not wired up to view model yet  -->

<header>
    <div class="content-wrapper">
        <div class="float-left">
            <p class="site-title">
                <a href="~/"><span>Smart</span>Reminder</a></p>
        </div>
    </div>
</header>

<div id="body">
    
    <button type="button" data-bind="click: createReminder, visible: !editing()">Add Reminder</button>

    <section data-bind="foreach: reminders">
        <article class="card">
            <div data-bind="visible: !editing()">
                <p data-bind="text: message"></p>
                <footer data-bind="visible: !$root.editing()">
                    <button type="button" data-bind="click: $root.editReminder">Edit</button>
                    <button type="button" data-bind="click: $root.deleteReminder">Delete</button>
                </footer>   
            </div>   
            <div data-bind="visible: editing"> 
                <input type="text" placeholder="Name" data-bind="value: name" /><br />
                <textarea type="text" placeholder="Message" data-bind="value: message" rows="3"></textarea> <br />
                <select data-bind="options: availableEvents, optionsText: 'text', optionsValue: 'value', value: actionId, optionsCaption: 'Select an action'"></select><br />
                <input type="text" placeholder="Start time" data-bind="value: startTime" /><br />
                <input type="text" placeholder="End time" data-bind="value: endTime" /> 
                <div class="days" data-bind="foreach: availableDays">
                    <span data-bind="text: name, click: $parent.dayClick, css: { selected: $parent.isSelectedDay($data), 'link-emulate': true }"></span>
                </div>
                <div>         
                    <button type="button" data-bind="click: $root.endEdit">Save</button>
                    <button type="button" data-bind="click: $root.cancelEdit">Cancel</button>
                </div>
            </div>  
        </article>
    </section>

</div>

@section scripts
{
<script src="@Url.Content("~/Scripts/models/reminder.js")"></script>
<script src="@Url.Content("~/Scripts/viewmodels/appViewModel.js")"></script>
<script src="@Url.Content("~/Scripts/sr.js")"></script>
}


